<!DOCTYPE html>
<html lang="en"><head>
<link href="../../../../assets/favicon.png" rel="icon" type="image/png">
<script src="../../../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../../../site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Andy Weeger">
  <meta name="dcterms.date" content="2025-03-12">
  <title>awe.lectures – Search &amp; Planning</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../../../../site_libs/revealjs/dist/theme/quarto-51f1eb42c1c25aebb6a6ec2d057ad404.css">
  
  <script type="text/javascript" charset="UTF-8">
  document.addEventListener('DOMContentLoaded', function () {
  cookieconsent.run({
    "notice_banner_type":"interstitial",
    "consent_type":"express",
    "palette":"dark",
    "language":"en",
    "page_load_consent_levels":["strictly-necessary"],
    "notice_banner_reject_button_hide":false,
    "preferences_center_close_button_hide":false,
    "website_name":""
    ,
  "language":"en"
    });
  });
  </script> 
    
  <link href="../../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
<meta property="og:title" content="Search &amp; Planning – awe.lectures">
<meta property="og:description" content="Introduction to AI (I2AI)">
<meta property="og:site_name" content="awe.lectures">
</head>
<body class="quarto-light">
<div class="footer custom">

    <div class="version">
        V1.2
    </div>

    <div class="footnote">
        Andy Weeger / Neu-Ulm University of Applied Sciences Neu-Ulm / Introduction to Artificial Intelligence (AI)
   </div>

    <div class="logo">
        <svg viewbox="0 0 125 39" xmlns="http://www.w3.org/2000/svg" version="1.1" space="preserve">
            <g>
             <title>HNU</title>
             <path d="m8.58222,0l7.5,0l0,12.7l-7.5,0l0,-12.7zm7.4,24.1l6.5,0l0,-3l-13.9,0l0,15.4l-3.9,0l0,2.3l11.3,0l0,-14.7zm24,-24.1l-7.4,0l0,36.5l-3.9,0l0,2.3l11.3,0l0,-38.8zm60.2,28.4c1.1,0 2.1,-0.1 2.9,-0.4c-1.3,-1.2 -1.9,-3.2 -1.9,-6.4l0,-21.6l-7.4,0l0,19.3c0,5.9 1.5,9.1 6.4,9.1z" id="svg_1"></path>
             <path d="m96.78222,37c2.8,1.6 6.4,2.5 10.6,2.5c11.2,0 17.7,-6 17.7,-16.3l0,-23.2l-7.4,0l0,21.1c0,11.3 -7.7,16.1 -17.6,16.1c-1.1,0 -2.2,-0.1 -3.3,-0.2zm-30.8,-27l-7.1,-10l-7.3,0l14.4,20.4l0,-10.4zm17,28.8l0,-38.8l-7.5,0l0,36.5l-3.5,0l1.7,2.3l9.3,0zm-24,-14.8l-8,-10.8l0,23.3l-3,0l0,2.3l11,0l0,-14.8z" id="svg_2"></path>
            </g>   
        </svg>
    </div>

</div>
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#0333ff" data-background-image="../assets/bg.jpeg" data-background-opacity="1" data-background-size="cover" class="quarto-title-block">
  <h1 class="title">Search &amp; Planning</h1>
  <p class="subtitle">Introduction to AI (I2AI)</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Andy Weeger 
</div>
        <p class="quarto-title-affiliation">
            Neu-Ulm University of Applied Sciences
          </p>
    </div>
</div>

  <p class="date">March 12, 2025</p>
</section>
<section>
<section id="introduction" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Introduction</h1>

</section>
<section id="planning-agents" class="title-slide slide level2">
<h2>Planning agents</h2>
<div class="html-hidden">
<div class="medium">
<p>Rational agents select actions to maximize performance across time.</p>
</div>
<p><span class="fragment">Planning involves mapping action sequences from current to goal states.</span></p>
<p><span class="fragment">Solutions for search problems are efficient action sequences reaching goal states.</span></p>
<p><span class="fragment">Optimization differs from planning—focuses on finding optimal states, not paths.</span></p>
</div>
<aside class="notes">
<p>Rational agents perceive environmental states and choose actions to maximize long-term performance. When optimal actions aren’t obvious, agents must plan ahead by determining action sequences that efficiently move from current states to goal states.</p>
<p>Planning agents (including <a href="../agents/#goal-based-agents">goal-based</a> and <a href="../agents/#utility-based-agents">utility-based variants</a>) seek solutions for search problems—action sequences leading from start to goal states. Closely related to planning is optimization, where only finding the optimal state matters, not the path to reach it.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="examples" class="title-slide slide level2">
<h2>Examples</h2>
<div class="r-stack html-hidden">
<p><img data-src="images/routing.jpeg" class="fragment" height="420"></p>
<p><img data-src="images/vacuum.jpeg" class="fragment" height="390"></p>
<p><img data-src="images/robot.jpeg" class="fragment" height="360"></p>
<p><img data-src="images/puzzle.jpeg" class="fragment" height="320"></p>
</div>
<aside class="notes">
<p>Examples for search problems are <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 87–88</a>)</span>:</p>
<ul>
<li>Route-finding problems (e.g., car navigation, airline travel-planning)</li>
<li>Touring problems (e.g., the traveling salesperson problem)</li>
<li>VLSI layout problems (positioning millions of components and connections on a chip)</li>
<li>Robot navigation (e.g., vacuum robots)</li>
<li>Automatic assembly sequencing of complex objects (e.g., protein design)</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="terms" class="title-slide slide level2">
<h2>Terms</h2>
<p>Agents that plan by considering a sequence of actions that form a path to a goal are called <strong>planning agents</strong> <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 81</a>)</span>.</p>
<div>
<ul>
<li class="fragment">The computational process it undertakes is <strong>search</strong>.</li>
<li class="fragment">The representations the agents use are <strong>atomic representations</strong><a href="#/footnotes" class="footnote-ref" id="fnref1" role="doc-noteref" data-footnote-href="#/fn1" onclick=""><sup>1</sup></a>.</li>
<li class="fragment">The <strong>search algrotihms</strong> can be uninformed and informed.</li>
</ul>
</div>
<div class="fragment">
<p>Here only <strong>simple environments</strong> are considered <em>(episodic, single agent, fully observable, deterministic, static, discrete, and known)</em>.</p>
</div>
<div class="fragment">
<p>We assume that information about the environment are given (e.g., a map)</p>
<aside class="notes">
<div class="small">
<p>There are also search algorithms for problems in <em>partially observable, nondeterministic, unknown, and continuous environments</em> (i.e., complex environments) like local search methods (e.g., hill-climbing search, local beam search, evolutionary algorithms). For details please see <span class="citation" data-cites="RusselNorvig2022AIMA">Russel and Norvig (<a href="#/literature" role="doc-biblioref" onclick="">2022</a>)</span>.</p>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<aside></aside></section>

<section id="problem-solving-process" class="title-slide slide level2">
<h2>Problem-solving process</h2>
<p>In simple environments, agents can follow a four-phase-problem-solving process <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 81–82</a>)</span>:</p>
<div>
<ol type="1">
<li class="fragment"><strong>Goal formulation</strong>: Identifying the objectives to be achieved based on the current situation and agent’s purpose</li>
<li class="fragment"><strong>Problem formulation</strong>: Deciding what states and actions to consider to achieve the goal<a href="#/footnotes" class="footnote-ref" id="fnref2" role="doc-noteref" data-footnote-href="#/fn2" onclick=""><sup>2</sup></a></li>
<li class="fragment"><strong>Search</strong>: Systematically exploring possible sequences of actions to find a solution path from initial state to goal state</li>
<li class="fragment"><strong>Execution</strong>: Carrying out the solution actions in the environment</li>
</ol>
</div>
<aside class="notes">
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Problem formulation must follow goal formulation</strong></p>
</div>
<div class="callout-content">
<p>In goal formulation, we decide which aspects of the world we are interested in, and which can be ignored or abstracted away. Then in problem formulation we decide how to manipulate the important aspects (and ignore the others). If we did problem formulation first we would not know what to include and what to leave out.</p>
<p>It can happen that there is a cycle of iterations between goal formulation, problem formulation, and problem-solving until one arrives at a sufficiently useful and efficient solution.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside></aside></section>
</section>
<section>
<section id="search-problem" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Search problem</h1>

</section>
<section id="definition" class="title-slide slide level2">
<h2>Definition</h2>
<p>A search problem can be defined formally as <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 83</a>)</span>:</p>
<div>
<ul>
<li class="fragment"><strong>State space:</strong> a set of possible states<a href="#/footnotes" class="footnote-ref" id="fnref3" role="doc-noteref" data-footnote-href="#/fn3" onclick=""><sup>3</sup></a> the environment can be in<a href="#/footnotes" class="footnote-ref" id="fnref4" role="doc-noteref" data-footnote-href="#/fn4" onclick=""><sup>4</sup></a></li>
<li class="fragment"><strong>Initial state:</strong> the state that the agent starts</li>
<li class="fragment"><strong>Goal state(s):</strong> a state that the agent is trying to reach<a href="#/footnotes" class="footnote-ref" id="fnref5" role="doc-noteref" data-footnote-href="#/fn5" onclick=""><sup>5</sup></a></li>
<li class="fragment"><strong>Transition model:</strong> <span class="math inline">\(\textrm{RESULT}(s,a)\)</span> — returns the state <span class="math inline">\(s'\)</span> that results from performing action <span class="math inline">\(a\)</span> in state <span class="math inline">\(s\)</span></li>
<li class="fragment"><strong>Successor function:</strong> <span class="math inline">\(\textrm{ACTIONS}(s)\)</span> — returns a set of (action, state) pairs for node <span class="math inline">\(s\)</span>, where the state is the state reachable by taking the action <span class="math inline">\(a\)</span></li>
<li class="fragment"><strong>Action cost function:</strong> <span class="math inline">\(\textrm{ACTION-COST}(s,a,s')\)</span> — gives the numeric cost of performing action <span class="math inline">\(a\)</span> in state <span class="math inline">\(s\)</span> to reach state <span class="math inline">\(s'\)</span></li>
<li class="fragment"><strong>Path:</strong> a sequence of actions</li>
<li class="fragment"><strong>Solution:</strong> a path from the initial state to the goal state</li>
</ul>
</div>
<aside class="notes">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Examples</strong></p>
</div>
<div class="callout-content">
<p><strong>Navigation</strong></p>
<ul>
<li><strong>State space:</strong> All possible waypoints (intersections, landmarks) in the road network</li>
<li><strong>Initial state:</strong> Starting waypoint of the agent (e.g., home intersection, current street position)</li>
<li><strong>Goal state(s):</strong> Destination waypoint(s) the agent wants to reach (e.g., store intersection, airport terminal entrance)</li>
<li><strong>Transition model:</strong> Model that returns the new waypoint after traveling along a specific road segment</li>
<li><strong>Successor function:</strong> Model that returns available road segments (streets, highways) and resulting waypoints connected to current waypoint</li>
<li><strong>Action cost function:</strong> Model that returns the distance, time, or fuel consumption for traveling between waypoints (maybe influenced by speed limits, traffic, road conditions)</li>
<li><strong>Path:</strong> A sequence of road segments through the network</li>
<li><strong>Solution:</strong> A sequence of road segments from starting waypoint to destination waypoint</li>
</ul>
<p><strong>8-Puzzle</strong></p>
<ul>
<li><strong>State space:</strong> All possible configurations of the 8 numbered tiles in a 3×3 grid (with one empty space)</li>
<li><strong>Initial state:</strong> Starting arrangement of tiles (a specific configuration of the 8 tiles and empty space)</li>
<li><strong>Goal state(s):</strong> Target arrangement of tiles (typically tiles in numerical order with empty space in a specific position)</li>
<li><strong>Transition model:</strong> Model that returns the new configuration after sliding a tile into the empty space</li>
<li><strong>Successor function:</strong> AModel that returns possible slides (up, down, left, right) of adjacent tiles into the empty space and resulting configurations</li>
<li><strong>Action cost function:</strong> Typically uniform cost of 1 per move</li>
<li><strong>Path:</strong> A sequence of tile slides</li>
<li><strong>Solution:</strong> A sequence of tile slides from initial configuration to goal configuration</li>
</ul>
<p><strong>Chess</strong></p>
<ul>
<li><strong>State space:</strong> All possible legal board configurations of chess pieces</li>
<li><strong>Initial state:</strong> Standard starting position with all pieces in their traditional positions</li>
<li><strong>Goal state(s):</strong> Any board configuration where the opponent’s king is in checkmate</li>
<li><strong>Transition model:</strong> Model that returns the new board configuration after making a specific move</li>
<li><strong>Successor function:</strong> AModel that returns all legal moves and resulting board configurations from current position</li>
<li><strong>Action cost function:</strong> Typically uniform cost of 1 per move</li>
<li><strong>Path:</strong> A sequence of chess moves</li>
<li><strong>Solution:</strong> A sequence of moves from the initial position to a checkmate position</li>
</ul>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside></aside></section>

<section id="problem-formulation-modelling" class="title-slide slide level2">
<h2>Problem formulation (modelling)</h2>
<div id="fig-search-problem" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-search-problem-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/search-problem.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-search-problem-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: Example: A simplified map of Romania, with road distances in miles; based on <span class="citation" data-cites="RusselNorvig2022AIMA">Russel and Norvig (<a href="#/literature" role="doc-biblioref" onclick="">2022, 84</a>)</span>
</figcaption>
</figure>
</div>
<aside class="notes">
<p><a href="#/fig-search-problem" class="quarto-xref">Figure&nbsp;1</a> depicts the search problem as model, the state space graph:</p>
<ul>
<li><strong>State space:</strong> cities (vertices, each state occurs only once)</li>
<li><strong>Initial state:</strong> Arad</li>
<li><strong>Goal state:</strong> Bucharest (goal test: <span class="math inline">\(Is state == Bucharest?\)</span>)</li>
<li><strong>Actions:</strong> directed edges between the vertices (paths)</li>
<li><strong>Action costs:</strong> numbers on the paths</li>
</ul>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Modelling &amp; abstraction</strong></p>
</div>
<div class="callout-content">
<p>The <strong>model</strong> is an abstract mathematical description, here a simple atomic state description. The model is an <strong>abstraction</strong> as it ignores many details of the reality (e.g., weather and scenery).</p>
<p><strong>Modeling</strong> as a process includes:</p>
<ul>
<li>Deciding which aspects of the real-world problem are relevant</li>
<li>Choosing appropriate abstractions and simplifications</li>
<li>Determining the right level of granularity (e.g., waypoints vs.&nbsp;coordinates)</li>
<li>Making assumptions about the problem domain</li>
<li>Selecting the suitable problem-solving paradigm (search, constraint satisfaction, optimization, etc.)</li>
</ul>
<p>A good problem formulation has the right level of detail (i.e., an appropriate <strong>level of abstraction</strong>).</p>
<p>The choice of a good abstraction involves removing as much detail as possible while retaining validity and ensuring that the abstract actions are easy to carry out. An abstraction is <em>valid</em> if any abstract solution can be elaborated into a solution in the more detailed world.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
</section>
<section>
<section id="search-trees" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Search trees</h1>

</section>
<section id="definition-1" class="title-slide slide level2">
<h2>Definition</h2>
<p>The formulation of a search problem, encompassing the definition of state space, initial state, goal states, transition model, and other pertinent elements, effectively constitutes the blueprint for a search tree:</p>
<div>
<ul>
<li class="fragment">The <strong>root node</strong> of the tree corresponds to your initial state</li>
<li class="fragment">The <strong>branches</strong> represent actions defined by your transition model</li>
<li class="fragment">The <strong>child nodes</strong> are states resulting from taking those actions</li>
<li class="fragment"><strong>Leaf nodes</strong> are states with no successors (or states we choose not to expand)</li>
<li class="fragment"><strong>Goal nodes</strong> are states that satisfy your goal condition</li>
</ul>
</div>
<div class="fragment">
<p>The search tree is the computational manifestation of your problem formulation.</p>
<aside class="notes">
<p>The quality of your your problem formulation directly affects:</p>
<ul>
<li>The structure of the tree (branching factor, depth)</li>
<li>The efficiency of search algorithms traversing it</li>
<li>The quality of solutions found</li>
</ul>
<p>For example, in the 8-puzzle problem, a poor modeling choice might represent the entire board as a single entity, while a better model would represent each tile position individually, resulting in a more manageable search tree.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Modelling choice examples</strong></p>
</div>
<div class="callout-content">
<p><strong>Continuous coordinate system modeling approach</strong></p>
<p>If we model navigation using precise GPS coordinates (latitude/longitude): - States would be exact positions: <code>(37.7749, -122.4194)</code> - Actions would be small movements in any direction - Transition model would calculate new coordinates based on direction and distance</p>
<p>This approach creates problems:</p>
<ol type="1">
<li><strong>Enormous state space</strong>: infinite possible positions</li>
<li><strong>Unrealistic movement model</strong>: doesn’t account for road constraints</li>
<li><strong>Inefficient search</strong>: most coordinates don’t correspond to valid paths</li>
<li><strong>Complex cost calculation</strong>: difficult to determine if movement between coordinates is even possible</li>
</ol>
<p><strong>Waypoint graph modeling approach</strong></p>
<p>A better approach models the problem as a graph of waypoints:</p>
<ul>
<li><strong>States</strong>: discrete locations (intersections, landmarks): <code>node_123</code></li>
<li><strong>Actions</strong>: road segments connecting waypoints: <code>take_main_street</code></li>
<li><strong>Transition model</strong>: graph edges showing direct connections</li>
<li><strong>Cost function</strong>: actual road distances, travel times, or other metrics</li>
</ul>
<p>Benefits of this approach:</p>
<ol type="1">
<li><strong>Drastically reduced state space</strong>: only meaningful locations are represented</li>
<li><strong>Realistic movement model</strong>: only follows actual roads</li>
<li><strong>Efficient search</strong>: branching factor limited to connected roads</li>
<li><strong>Accurate cost calculation</strong>: based on real road metrics (distance, speed limits, traffic)</li>
</ol>
<p>The waypoint model transforms an infinite continuous problem into a finite discrete one, making the search tree dramatically smaller and focused only on relevant states. This allows standard search algorithms like A* to efficiently find optimal routes in reasonable time frames, even for large maps.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>

<section id="frontier" class="title-slide slide level2">
<h2>Frontier</h2>
<p>The frontier (sometimes called the “open list” or “fringe”) is the collection of nodes that have been generated but not yet expanded or evaluated.</p>
<div class="fragment">
<p>The frontier serves as the boundary between explored and unexplored parts of the search space. It contains all the nodes that are immediate candidates for expansion.</p>
<div class="medium">
<p>You might also call the frontier the “to-do list” of nodes that the search algorithm maintains.</p>
</div>
</div>
</section>

<section id="example" class="title-slide slide level2">
<h2>Example</h2>
<div id="fig-search-tree" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-search-tree-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/search-tree.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-search-tree-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2: Example: A partial search tree for finding a route from Arad to Bucharest; based on <span class="citation" data-cites="RusselNorvig2022AIMA">Russel and Norvig (<a href="#/literature" role="doc-biblioref" onclick="">2022</a>)</span>
</figcaption>
</figure>
</div>
<aside class="notes">
<p><a href="#/fig-search-tree" class="quarto-xref">Figure&nbsp;2</a> visualizes a partial search tree: the first few steps in finding a path from <em>Arad</em> (initial state) to <em>Bucharest</em> (goal).</p>
<ul>
<li>The <strong>root node</strong> of the search tree is the initial state <span class="math inline">\(s\)</span> <em>(Arad)</em></li>
<li>The available actions per state can be queried using <span class="math inline">\(ACTIONS(s)\)</span></li>
<li>The current node is <strong>expanded</strong> by generating <strong>child nodes</strong> or <strong>successor nodes</strong> using the available actions and <span class="math inline">\(RESULT(s,a)\)</span></li>
<li>Each resulting child node has <em>Arad</em> as its <strong>parent node</strong></li>
<li>The <strong>frontier</strong> contains all not yet expanded nodes</li>
<li>The child node to be considered next is selected by the minimum value of some <strong>evaluation function</strong> <span class="math inline">\(f(n)\)</span></li>
</ul>
<div class="smaller">
<p>In <a href="#/fig-search-tree" class="quarto-xref">Figure&nbsp;2</a>, nodes that have been expanded are white with bold letters; nodes on the <strong>frontier</strong> that have been generated but not yet expanded are in white and regular letters; the set of states corresponding to these two types of nodes are said to have been <strong>reached</strong>. Nodes that could be generated next are shown in faint dashed lines.</p>
</div>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Definition of search trees</strong></p>
</div>
<div class="callout-content">
<p>A search tree is a “what if” tree of plans and their outcomes.</p>
<ul>
<li>The start state is the root node,</li>
<li>children correspond to successors,</li>
<li>nodes show states, but correspond to PLANS that achieve those states</li>
</ul>
<p>There are lots of repeated structure in the search tree. Thus, for most problems, the whole tree can never be actually built. In practice, both state space graphs and search trees are constructed on demand and as little as possible <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022</a>)</span>.</p>
</div>
</div>
</div>
<p>Search algorithms require a data structure to keep track of the <strong>search tree</strong>. A node in the tree is represented by a data structure with four components <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 91</a>)</span>:</p>
<ul>
<li><em>node.STATE</em>: the state to which the node corresponds</li>
<li><em>node.PARENT</em>: the node in the tree that generated this node</li>
<li><em>node.ACTION</em>: the action that was applied to the parent’s state to generate this node</li>
<li><em>node.PATH-COST</em>: the total cost of the path from the initial state to generate this node</li>
</ul>
<p>Following the PARENT pointers back from a node allows to revocer the states and actions along the path to that node. Doing this from a goal node generates the solution.</p>
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Example data structure in pseudo code</strong></p>
</div>
<div class="callout-content">
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource javascript number-lines code-with-copy"><code class="sourceCode javascript"><span id="cb1-1"><a></a><span class="kw">var</span> searchTree <span class="op">=</span> {</span>
<span id="cb1-2"><a></a>  node<span class="op">.</span><span class="at">STATE</span><span class="op">:</span> <span class="st">"Bucharest"</span></span>
<span id="cb1-3"><a></a>  node<span class="op">.</span><span class="at">PARENT</span><span class="op">:</span> {</span>
<span id="cb1-4"><a></a>    node<span class="op">.</span><span class="at">STATE</span><span class="op">:</span> <span class="st">"Pitesti"</span></span>
<span id="cb1-5"><a></a>    node<span class="op">.</span><span class="at">PARENT</span><span class="op">:</span> {</span>
<span id="cb1-6"><a></a>      node<span class="op">.</span><span class="at">STATE</span><span class="op">:</span> <span class="st">"Rimmicu Vilcea"</span></span>
<span id="cb1-7"><a></a>      node<span class="op">.</span><span class="at">PARENT</span><span class="op">:</span> {</span>
<span id="cb1-8"><a></a>        node<span class="op">.</span><span class="at">STATE</span><span class="op">:</span> <span class="st">"Sibiu"</span></span>
<span id="cb1-9"><a></a>        node<span class="op">.</span><span class="at">PARENT</span><span class="op">:</span> {</span>
<span id="cb1-10"><a></a>          node<span class="op">.</span><span class="at">STATE</span><span class="op">:</span> <span class="st">"Arad"</span></span>
<span id="cb1-11"><a></a>          node<span class="op">.</span><span class="at">PARENT</span><span class="op">:</span> NULL</span>
<span id="cb1-12"><a></a>          node<span class="op">.</span><span class="at">ACTION</span><span class="op">:</span> NULL</span>
<span id="cb1-13"><a></a>          node<span class="op">.</span><span class="at">PATH</span><span class="op">-</span><span class="dt">COST</span><span class="op">:</span> <span class="dv">0</span></span>
<span id="cb1-14"><a></a>        }</span>
<span id="cb1-15"><a></a>        node<span class="op">.</span><span class="at">ACTION</span><span class="op">:</span> <span class="st">"Arad to Sibiu"</span></span>
<span id="cb1-16"><a></a>        node<span class="op">.</span><span class="at">PATH</span><span class="op">-</span><span class="dt">COST</span><span class="op">:</span> <span class="dv">140</span></span>
<span id="cb1-17"><a></a>      }</span>
<span id="cb1-18"><a></a>      node<span class="op">.</span><span class="at">ACTION</span><span class="op">:</span> <span class="st">"Sibiu to Rimmicu Vilcea"</span></span>
<span id="cb1-19"><a></a>      node<span class="op">.</span><span class="at">PATH</span><span class="op">-</span><span class="dt">COST</span><span class="op">:</span> <span class="dv">220</span></span>
<span id="cb1-20"><a></a>    }</span>
<span id="cb1-21"><a></a>    node<span class="op">.</span><span class="at">ACTION</span><span class="op">:</span> <span class="st">"Rimmicu Vilcea to Pitesti"</span></span>
<span id="cb1-22"><a></a>    node<span class="op">.</span><span class="at">PATH</span><span class="op">-</span><span class="dt">COST</span><span class="op">:</span> <span class="dv">317</span></span>
<span id="cb1-23"><a></a>  }</span>
<span id="cb1-24"><a></a>  node<span class="op">.</span><span class="at">ACTION</span><span class="op">:</span> <span class="st">"Pitesti to Bucharest"</span></span>
<span id="cb1-25"><a></a>  node<span class="op">.</span><span class="at">PATH</span><span class="op">-</span><span class="dt">COST</span><span class="op">:</span> <span class="dv">418</span></span>
<span id="cb1-26"><a></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<p>In addition, a data structure to store the <strong>frontier</strong> is neded. Usually this is realized using a <strong>queue</strong> with following functions <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 91</a>)</span>:</p>
<ul>
<li><em>IS-EMPTY(frontier)</em>: returns true only if there are no nodes in the frontier</li>
<li><em>POP(frontier)</em>: removes the top node from the frontier and returns it</li>
<li><em>TOP(frontier)</em>: returns (but does not remove) the top node from the frontier</li>
<li><em>ADD(node,frontier)</em>: inserts node into its proper place in the queue</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
</section>
<section>
<section id="search-algorithms" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Search algorithms</h1>

</section>
<section id="definition-2" class="title-slide slide level2">
<h2>Definition</h2>
<p><strong>Search algorithms</strong> take a search problem as input and return a solution, or an indication of failure <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 89</a>)</span>.</p>
<div>
<ul>
<li class="fragment">They superimpose a search tree over the state-space graph,</li>
<li class="fragment">form various paths from the initial state, and</li>
<li class="fragment">try to find a path that reaches a goal state.</li>
</ul>
</div>
<div class="fragment">
<p>Depending on the problem formulation, they can implement different methods:</p>
<div>
<ul>
<li class="fragment"><strong>Uninformed search</strong>, which only have access to the problem definition but not clue about how close a state is to the goal(s).</li>
<li class="fragment"><strong>Informed search</strong>, which have access to a heuristic function that gives domain-specific hints about how close a state is to the goal(s) <em>(e.g., using straight-line distance in route-finding problems)</em></li>
</ul>
</div>
</div>
</section>

<section id="performance-metrics" class="title-slide slide level2">
<h2>Performance metrics</h2>
<p>Performance metrics guide the choice of algorithms based on problem requirements, help predict computational demands, and establish clear expectations about what an algorithm can and cannot do.</p>
<div class="html-hidden">
<div>
<ul>
<li class="fragment"><strong>Completeness</strong> refers to an algorithm’s guarantee to find a solution.</li>
<li class="fragment"><strong>Optimality</strong> refers to the algorithm’s capability to find the optimal solution.</li>
<li class="fragment"><strong>Complexity</strong> determines time and memory/space requirements.</li>
<li class="fragment"><strong>Global solutions</strong> (path) vs.&nbsp;<strong>local solutions</strong> (optimal or satisfactory state only).</li>
</ul>
</div>
</div>
<aside class="notes">
<p><strong>Completeness</strong> refers to an algorithm’s guarantee to find a solution if one exists, ensuring that no potential solution path is overlooked during the search process. This property is crucial in critical applications where finding any viable solution is mandatory, such as medical diagnosis systems or emergency response planning, as it provides certainty that the algorithm won’t fail by getting stuck in infinite loops or dead ends.</p>
<p><strong>Optimality</strong> ensures that an algorithm will find not just any solution, but the best possible one according to a defined cost function, whether that’s shortest distance, minimum time, lowest energy consumption, or other metrics. This property is essential in resource-constrained environments where efficiency matters significantly, such as route planning, supply chain optimization, or bandwidth allocation, as it guarantees maximum value from available resources.</p>
<p><strong>Complexity</strong> measures how an algorithm’s resource requirements (time and memory) scale with increasing problem size, typically expressed using big O notation in terms of factors like branching factor and solution depth. Understanding complexity helps predict whether an algorithm will be practically usable for real-world problems or if it will exceed available computational resources, making it a critical consideration when deploying algorithms in time-sensitive applications or on hardware with limited capabilities.</p>
<p><strong>Global solutions</strong> provide a complete path from initial state to goal state, offering step-by-step instructions for transitioning between states, whereas <strong>local solutions</strong> focus only on finding an optimal or good state without specifying how to reach it. This distinction is important because global solution algorithms (like A* or BFS) are essential for navigation and planning tasks requiring explicit paths, while local solution approaches (like hill climbing or genetic algorithms) can be more efficient for optimization problems where only the final configuration matters, not the route taken to achieve it.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="uninformed-search" class="title-slide slide level2">
<h2>Uninformed search</h2>
<div id="fig-search-strategies" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-search-strategies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/strategies.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-search-strategies-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;3: Overview of uninformed search strategies
</figcaption>
</figure>
</div>
</section>





<section id="greedy-best-first-search" class="slide level3">
<h3>Greedy best-first search</h3>
<p>The Greedy best-first search uses the evlation function <span class="math inline">\(f(n) = h(n)\)</span></p>
<div class="fragment">
<p>It expands the first node with the lowest <span class="math inline">\(h(n)\)</span> value in the queue.</p>
</div>
<div class="fragment">
<p>In route finding problems, the straight-line distance heuristic is used as <span class="math inline">\(h(n)\)</span>.</p>
</div>
<div class="fragment">
<p>Greedy best-first graph search is complete in finite state spaces, but not in infinite ones.</p>
</div>
</section>
<section id="a-search" class="slide level3">
<h3>A* Search</h3>
<p>The A* search (pronounced “A-star search”) uses the evaluation function <span class="math inline">\(f(n) = g(n) + h(n)\)</span>.</p>
<div>
<ul>
<li class="fragment"><span class="math inline">\(g(n)\)</span> is the path cost from the initial state to node <span class="math inline">\(n\)</span> (e.g., computed by using the action-cost function).</li>
<li class="fragment"><span class="math inline">\(h(n)\)</span> is the <em>estimated cost</em> of the shortes path from <span class="math inline">\(n\)</span> to a goal state.</li>
</ul>
</div>
<div class="fragment">
<p>A* search is complete, if it is cost-optimal depends on the heuristic.</p>
</div>
</section>

<section id="online-search" class="title-slide slide level2">
<h2>Online search</h2>
<p>The agents considered so far use <strong>offline search</strong> algorithm. They compute a complete solution before taking their first action. They are not helpful in unknown environments.</p>
<div class="fragment">
<p><strong>Online search</strong> agents interleaves computation and action:</p>
<div>
<ul>
<li class="fragment">Takes action,</li>
<li class="fragment">observes the environment, and</li>
<li class="fragment">computes the next action,</li>
</ul>
</div>
</div>
<div class="fragment">
<p>These agents can discover successor only for a state that is occupied or that is learned (i.e., contained in a map created online)</p>
</div>
<div class="fragment">
<p>Online search is a good idea in dynamic or semi-dynamic environments.</p>
</div>
</section>
</section>
<section>
<section id="player-games" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>2-Player games</h1>

</section>
<section id="example-alphago" class="title-slide slide level2" data-background-color="#0333ff" data-background-image="images/alphaGo.jpeg">
<h2>Example: AlphaGo</h2>
<aside class="notes">
<p>AlphaGo is a computer program that plays the board game Go, which is considered much more difficult for computers to win than other games such as chess because its strategic and aesthetic nature makes it difficult to construct a direct scoring function. AlphaGo was developed by the London-based DeepMind Technologies, an acquired subsidiary of Alphabet Inc.&nbsp;</p>
<div id="fig-alphaGo" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-alphaGo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/alphaGo.jpeg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-alphaGo-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4: A human trying to beat AlphaGo
</figcaption>
</figure>
</div>
<p>AlphaGo use a <strong>Monte Carlo tree search algorithm</strong> to find their moves based on knowledge previously acquired through machine learning, specifically an artificial neural network (a deep learning method) through extensive training, both from human and computer games. A neural network is trained to recognize the best moves and the winning rates of those moves. This neural network improves the strength of the tree search, leading to stronger move selection in the next iteration. It is used to decide on</p>
<ul>
<li>the next action to choose in the selection-phase,</li>
<li>which leaf-node to extend in the expansion phase, and</li>
<li>which actions to choose in the simulation phase</li>
</ul>
<p>A nice summary of MCTS and AlphaGo can be found <a href="https://www.analyticsvidhya.com/blog/2019/01/monte-carlo-tree-search-introduction-algorithm-deepmind-alphago/">here</a>.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="adversarial-search" class="title-slide slide level2">
<h2>Adversarial search</h2>
<p>In <strong>competitive</strong> environments, two or more agents have conflicting goals, which gives rise to <strong>adversarial search</strong> problems.</p>
<p>The algorithm described in this section is applicable for all games with the following characteristics:</p>
<div class="medium">
<p><span class="fragment">2 players</span> &nbsp; <span class="fragment">fully observable</span> &nbsp; <span class="fragment">deterministic</span> &nbsp; <span class="fragment">zero-sum</span></p>
</div>
<div class="fragment">
<p>As in such games <span class="fragment">the state of a game is easy to represent,</span> <span class="fragment">agents are restricted to a few actions</span> <span class="fragment">and effects of actions are defined by precise rules <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 192</a>)</span>.</span></p>
</div>
</section>

<section id="minmax-value" class="title-slide slide level2">
<h2>MinMax value</h2>
<p>Given a state-space search tree, each node’s <strong>MinMax value</strong> is calculated.</p>
<div class="fragment">
<p>The MinMax value is the best achievable utility of being in a given sate (against a rational adversary).</p>
<div>
<ul>
<li class="fragment"><code>MAX</code> prefers to move to a state of maximum value<br>
</li>
<li class="fragment"><code>MIN</code> prefers to move to a state of minimum value<br>
</li>
</ul>
</div>
</div>
</section>

<section id="adversarial-game-tree" class="title-slide slide level2">
<h2>Adversarial game tree</h2>
<div id="fig-adversarial-game-tree" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-adversarial-game-tree-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/adversarial-game-tree.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-adversarial-game-tree-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;5: Example: A adversarial game tree
</figcaption>
</figure>
</div>
<aside class="notes">
<p>The △ nodes are “<code>MAX</code> nodes”, in which it is <code>MAX's</code> turn to move; the ▽ nodes are “<code>MIN</code> nodes”. <code>MAX's</code> best move at the root is α₁ (the highest MinMax value achievable at level 3), <code>MIN's</code> best move is β₁ (the lowest minimax value).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="minmax-algorithm" class="title-slide slide level2">
<h2>MinMax algorithm</h2>
<p>The <strong>MinMax algorithm</strong> performs a complete depth-first exploration of the game tree <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 196–96</a>)</span>.</p>
<div>
<ul>
<li class="fragment">Assumes that the adversary plays optimal.</li>
<li class="fragment">Returns action whose terminal state has the optimal <strong>MinMax value</strong>.</li>
<li class="fragment">The tree is calculated down to a maximum depth <span class="math inline">\(L\)</span> (i.e., the planning horizon).</li>
<li class="fragment">If level <span class="math inline">\(L-1\)</span> belongs to <code>Min</code> MinMax will choose in each state the action, which leads to a successor of minimum utility — since minimum utility for <code>Max</code> is maximum utility of <code>Min</code>. Therefore, to each node in level <span class="math inline">\(L-1\)</span>, the minimum utility of it’s successor nodes is assigned.</li>
<li class="fragment">In the same way to each node in level <span class="math inline">\(L-2\)</span>, the maximum utility of it’s successor nodes in level <span class="math inline">\(L-1\)</span> is assigned.</li>
<li class="fragment">This process is repeated up to the root node. <code>Max</code> then knows his next action — the one, which yields to a successor with maximum utility-value.</li>
</ul>
</div>
<aside class="notes">
<p>The exponential complexity makes the miminmax algorithm impractical for complex games (even with <a href="#/Alpha-Beta-Pruning">Alpha-Beta Pruning</a> applied; chess game tree size &gt; atoms in the universe).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="alpha-beta-pruning" class="title-slide slide level2">
<h2>Alpha-Beta Pruning</h2>
<p>Alpha-Beta Pruning is an improvement of the MinMax algorithm in the sense that it reduces the number of nodes, that have to be evaluated and generated by applying a simple logic <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 198–99</a>)</span>. The process is as follows:</p>
<div>
<ul>
<li class="fragment">Create tree with limited depth search from left to right</li>
<li class="fragment">As in MinMax-search evaluate nodes in the deepest level by applying a domain-specific evaluation function</li>
<li class="fragment">For each <code>Max</code>-node store the maximum value of the underlying subtree traversed so far in the variable</li>
<li class="fragment">For each <code>Min</code>-node store the minimum value of the underlying subtree traversed so far in the variable</li>
<li class="fragment">If at a minimum node <span class="math inline">\(k\)</span> the current value β is smaller than α the search under <span class="math inline">\(k\)</span> can be terminated. Here α is the largest value of a maximum node in the path from the root to <span class="math inline">\(k\)</span>.</li>
<li class="fragment">If at a maximum node k the current value α is larger than β, the search under <span class="math inline">\(k\)</span> can be terminated. Here β is the smallest value of a minimum node in the path from the root to <span class="math inline">\(k\)</span>.</li>
</ul>
</div>
<aside class="notes">
<p>A nice simulation of MinMax- and AlphaBeta-Pruning can be found <a href="https://raphsilva.github.io/utilities/minimax_simulator/#">here</a>.</p>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Why Alpha-Beta</strong></p>
</div>
<div class="callout-content">
<p>Pruning stops the search at the moment when it is determined that the value of a subtree is worse than the best solution already identified. Alpha-beta pruning gets its name from the two extra parameters in <em>MAX-VALUE(state,α,β)</em> that describe the bounds on the backed-up values that appear anywhere along the path:</p>
<ul>
<li>α = the value of the best choice for <code>MAX</code> found so far (“at least”)</li>
<li>β = the value of the bast choice for <code>MIN</code> found so far (“at most”)</li>
</ul>
<p>Alpha-beta search updates the values of α and β as it goes along and prunes the remaining branches at a node as soon as the value of the current node is known to be worse than the current α and β for <code>MAX</code> or <code>MIN</code>, respectively <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 198</a>)</span>.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
</section>
<section>
<section id="monte-carlo-tree-search" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Monte Carlo tree search</h1>

</section>
<section id="introduction-1" class="title-slide slide level2">
<h2>Introduction</h2>
<p>The concept of a limited planning horizon, as applied in the MinMax-algorithm is one way to handle complex problems, which can not be planned to the goal-state in one step.</p>
<div class="fragment">
<p>Another concept is to construct a tree until a final state in such a way that in each state only promising actions and corresponding successors are generated. This concept is applied by Monte Carlo tree search.</p>
</div>
</section>

<section id="functioning" class="title-slide slide level2">
<h2>Functioning</h2>
<p><strong>Monte Carlo tree search</strong> (MCTS)<a href="#/footnotes" class="footnote-ref" id="fnref9" role="doc-noteref" data-footnote-href="#/fn9" onclick=""><sup>9</sup></a> does estimate the value of a state as the <strong>average utility</strong><a href="#/footnotes" class="footnote-ref" id="fnref10" role="doc-noteref" data-footnote-href="#/fn10" onclick=""><sup>10</sup></a> over a number of simulations of complete games starting from the current state <span class="citation" data-cites="RusselNorvig2022AIMA">(<a href="#/literature" role="doc-biblioref" onclick="">Russel and Norvig 2022, 207–9</a>)</span>.</p>
<div class="fragment">
<p>Each iteration follows four steps:</p>
<div>
<ul>
<li class="fragment"><strong>Selection:</strong> starting from the root node, apply tree policy in order to select next action (e.g., based on average utility<a href="#/footnotes" class="footnote-ref" id="fnref11" role="doc-noteref" data-footnote-href="#/fn11" onclick=""><sup>11</sup></a>).</li>
<li class="fragment"><strong>Expansion:</strong> in a leaf-node select an arbitrary action and generate the corresponding new child-node.</li>
<li class="fragment"><strong>Simulation:</strong> simulate the game, starting from the new child-node. At the end of each simulation the game is won or lost.</li>
<li class="fragment"><strong>Backpropagation:</strong> the result of the simulation is used to update all the search tree nodes going up to the root.</li>
</ul>
</div>
</div>
<div class="fragment">
<p>If the computational budget is reached, MCTS returns with the best action a for the given root node.</p>
</div>
<aside></aside></section>

<section id="example-selection" class="title-slide slide level2">
<h2>Example: selection</h2>
<div class="columns">
<div class="column">
<div id="fig-mcts-selection" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mcts-selection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/mcts-selection.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mcts-selection-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;6: Example: MCTS — selection
</figcaption>
</figure>
</div>
</div><div class="column">
<p><a href="#/fig-mcts-selection" class="quarto-xref">Figure&nbsp;6</a> shows a tree with the root representing a state where <code>P-A</code> has won 37/100 playouts done</p>
<div>
<ul>
<li class="fragment"><code>P-A</code> has just moved to the root node</li>
<li class="fragment"><code>P-B</code> selects a move to a node where it has won 60/79 playouts; this is the best win percentage among the available moves</li>
<li class="fragment"><code>P-A</code> will select a move to a node where it has won 16/53 playouts (assuming it plays optimally)</li>
<li class="fragment"><code>P-B</code> then continues on the leaf node marked 27/35</li>
<li class="fragment">… until a terminal state is reached</li>
</ul>
</div>
</div></div>
<aside class="notes">
<p>It would also have been reasonable to select the 2/11 node for the sake of exploration—with only 11 playouts, the node still has high uncertainty in its valuation, and might end up being the best option if more information about it is gained. So it makes sense to use a selection policy that balances exploitation and exploration.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="example-selection-policy-uct" class="title-slide slide level2">
<h2>Example: selection policy (UCT)</h2>
<p><strong>Upper confidence bounds applied to trees</strong> (UCT) is a very effective selection policy ranking possible moves based on an upper confidence bound formula (UCB1)</p>
<div class="fragment">
<p><span class="math display">\[
\textrm{UCB1}(n) = \frac{\textrm{U}(n)}{\textrm{N}(n)} + C * \sqrt{\frac{\log{\textrm{N}(\textrm{PARENT}(n))}}{\textrm{N}(n)}}
\]</span></p>
<div>
<ul>
<li class="fragment"><span class="math inline">\(\textrm{U}(n)\)</span> is the total utility of all playouts that went through node <span class="math inline">\(n\)</span></li>
<li class="fragment"><span class="math inline">\(\textrm{N}(n)\)</span> is the number of playouts through node <span class="math inline">\(n\)</span></li>
<li class="fragment"><span class="math inline">\(\textrm{PARENT}(n)\)</span> is the parent node of <span class="math inline">\(n\)</span> in the tree</li>
<li class="fragment"><span class="math inline">\(\frac{\textrm{U}(n)}{\textrm{N}(n)}\)</span> is the average utility of <span class="math inline">\(n\)</span> <em>(exploitation term, “how good are the stats?”)</em></li>
<li class="fragment"><span class="math inline">\(\frac{\log{\textrm{N}(\textrm{PARENT}(n))}}{\textrm{N}(n)}\)</span> is higher for <span class="math inline">\(n\)</span> only explored a few times<br>
<em>(exploration term, “how much has the child be ‘ignored’?”)</em></li>
<li class="fragment"><span class="math inline">\(C\)</span> is a constant that balance exploitation and exploration (theoretically <span class="math inline">\(\sqrt{2}\)</span>)</li>
</ul>
</div>
<aside class="notes">
<p>With <span class="math inline">\(C=1.4\)</span>, the 60/79 node in <a href="#/fig-mcts-selection" class="quarto-xref">Figure&nbsp;6</a> has the highest UCB1 score, but with <span class="math inline">\(C=1.5\)</span>, it would be the 2/11 node.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>

<section id="example-expansion-and-simulation" class="title-slide slide level2">
<h2>Example: expansion and simulation</h2>
<div class="columns">
<div class="column">
<div id="fig-mcts-expansion" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mcts-expansion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/mcts-expansion-simulation.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mcts-expansion-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;7: Example: MCTS — expansion and simulation
</figcaption>
</figure>
</div>
</div><div class="column">
<p><a href="#/fig-mcts-expansion" class="quarto-xref">Figure&nbsp;7</a> shows a tree where a new child of the selected node is generated and marked with <code>0/0</code> <em>(expansion)</em>.</p>
<p>A playout for the newly generated child node is performed <em>(simulation)</em>.</p>
<div>
<ul>
<li class="fragment">Moves for both players according the playout policy<a href="#/footnotes" class="footnote-ref" id="fnref12" role="doc-noteref" data-footnote-href="#/fn12" onclick=""><sup>12</sup></a> are chosen</li>
<li class="fragment">The moves are not recorded in the search tree</li>
<li class="fragment">In <a href="#/fig-mcts-expansion" class="quarto-xref">Figure&nbsp;7</a>, the simulation results in a win for <code>P-B</code></li>
</ul>
</div>
</div></div>
<aside></aside></section>

<section id="example-back-propagation" class="title-slide slide level2">
<h2>Example: back-propagation</h2>
<div class="columns">
<div class="column">
<div id="fig-mcts-propagation" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-mcts-propagation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/mcts-back-propagation.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-mcts-propagation-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;8: Example: MCTS — selection
</figcaption>
</figure>
</div>
</div><div class="column">
<p>The result of the simulation is used to update all the search tree nodes going up to the root.</p>
<div>
<ul>
<li class="fragment"><code>P-B's</code> nodes are incremented in both the number of wins and the number of playouts</li>
<li class="fragment"><code>P-A's</code> nodes are incremented in the number of playouts only</li>
</ul>
</div>
</div></div>
</section>
</section>
<section>
<section id="wrap-up" class="title-slide slide level1 headline-only" data-background-image="../assets/bg.jpeg">
<h1>Wrap-up</h1>

</section>
<section id="search" class="title-slide slide level2">
<h2>Search</h2>
<p>Search operates over models of the world (which might be observed <em>online</em>)</p>
<div>
<ul>
<li class="fragment">Agents do not try all possible plans</li>
<li class="fragment">Planning is all “in simulation”</li>
<li class="fragment">Search is only as good as the models are</li>
</ul>
</div>
</section>

<section id="adversarial-search-1" class="title-slide slide level2">
<h2>Adversarial search</h2>
<div>
<ul>
<li class="fragment">In two-player, discrete, deterministic, turn-taking zero-sum games with perfect information, the <strong>minimax algorithm</strong> can select optimal moves by a depth-first search in the game tree</li>
<li class="fragment">Efficiency can be improved by using the <strong>alpha-beta</strong> search algorithm, which eliminates subtrees that are shown to be irrelevant.</li>
<li class="fragment"><strong>Monte Carlo tree search</strong> evaluates states by playing out the game all the way to the end to see who won. This playout <strong>simulation</strong> is repeated multiple times. The evaluation is an average of the results.</li>
</ul>
</div>
</section>

<section id="xkcd" class="title-slide slide level2">
<h2>xkcd</h2>
<div id="fig-xkcd" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-xkcd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/xkcd.png" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-xkcd-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9: xkcd 1263: reassuring
</figcaption>
</figure>
</div>
</section>
</section>
<section id="qa" class="title-slide slide level1 html-hidden unlisted headline-only">
<h1>Q&amp;A</h1>

</section>

<section>
<section id="exercises" class="title-slide slide level1 headline-only" data-background-color="black">
<h1>Exercises</h1>

</section>
<section id="definition-sequence" class="title-slide slide level2">
<h2>Definition sequence</h2>
<blockquote>
<p>Problem formulation must follow goal formulation.</p>
</blockquote>
<p>Discuss that statement. Is it true or false? Why?</p>
</section>

<section id="problem-formulation" class="title-slide slide level2">
<h2>Problem formulation</h2>
<p>Give a complete problem formulation for each of the following problems. Choose a formulation that is precise enough to be implemented.</p>
<ul>
<li>There are six glass boxes in a row, each with a lock. Each of the first five boxes holds a key unlocking the next box in line; the last box holds a banana. You have the key to the first box, and you want the banana.</li>
<li>There is an <em>n x n</em> grid of squares, each square initially being either unpainted floor or a bottomless pit. You start standing on an unpainted floor square, and can either paint the square under you or move into an adjacent unpainted floor square. You want the whole floor painted.</li>
</ul>
</section>

<section id="maze" class="title-slide slide level2">
<h2>Maze</h2>
<p>Your goal is to navigate a robot out of a maze. It starts in the center of the maze facing north. You can turn the robot to face north, east, south, or west; direct the robot to move forward a certain distance (it will stop before a wall).</p>
<ol type="a">
<li>Formally define this problem as a search problem. How large is the state space?</li>
<li>In navigating a maze, the only place we need to turn is at the intersection of two or more corridors. Reformulate this problem using this observation. How large is the state space now?</li>
<li>From each point in the maze, we can move in any of the four directions until we reach a turning point, and this is the only action we need to do. Reformulate the problem using these actions. Do we need to keep track of the robot’s orientation now?</li>
<li>In our initial description of the problem we already abstracted from the real world. Name three such simplifications we made.</li>
</ol>
<aside class="notes">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Solution notes</strong></p>
</div>
<div class="callout-content">
<div id="fig-maze" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-maze-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/maze.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-maze-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;10: Solution note for the maze exercise
</figcaption>
</figure>
</div>
<p><span class="h4">Problem statement</span></p>
<ul>
<li>The center of the maze is at (0; 0), and the maze itself is a square from (-1;-1) to (1; 1).</li>
<li><strong>Initial state:</strong> robot at coordinate (0; 0), facing North.</li>
<li><strong>Goal test:</strong> either jxj &gt; 1 or jyj &gt; 1 where (x; y) is the current location.</li>
<li><strong>Successor function:</strong> move forwards any distance d; change direction robot it facing.</li>
<li><strong>Cost function:</strong> total distance moved.</li>
</ul>
<p>The state space is infinitely large, since the robot’s position is continuous.</p>
<p><span class="h4">Reformulated problem statement</span></p>
<p>The state will record the intersection the robot is currently at, along with the direction it’s facing. At the end of each corridor leaving the maze we will have an exit node. We’ll assume some node corresponds to the center of the maze.</p>
<ul>
<li><strong>Initial state:</strong> at the center of the maze facing North.</li>
<li><strong>Goal test:</strong> at an exit node.</li>
<li><strong>Successor function:</strong> move to the next intersection in front of us, if there is one; turn to face a new direction.</li>
<li><strong>Cost function:</strong> total distance moved.</li>
</ul>
<p>There are 4n states, where n is the number of intersections.</p>
<p><span class="h4">Reformulated problem statement #2</span></p>
<ul>
<li><strong>Initial state:</strong> at the center of the maze.</li>
<li><strong>Goal test:</strong> at an exit node.</li>
<li><strong>Successor function:</strong> move to next intersection to the North, South, East, or West.</li>
<li><strong>Cost function:</strong> total distance moved.</li>
</ul>
<p>We no longer need to keep track of the robot’s orientation since it is irrelevant to predicting the outcome of our actions, and not part of the goal test. The motor system that executes this plan will need to keep track of the robot’s current orientation, to know when to rotate the robot.</p>
<p><span class="h4">Abstractions</span></p>
<p><strong>State:</strong></p>
<ul>
<li>Ignoring the height of the robot off the ground, whether it is tilted off the vertical.</li>
<li>The robot can face in only four directions.</li>
<li>Other parts of the world ignored: possibility of other robots in the maze, the weather in the Caribbean.</li>
</ul>
<p><strong>Action:</strong></p>
<ul>
<li>We assumed all positions we safely accessible: the robot couldn’t get stuck or damaged.</li>
<li>The robot can move as far as it wants, without having to recharge its batteries.</li>
<li>Simplified movement system: moving forwards a certain distance, rather than controlled each individual motor and watching the sensors to detect collisions.</li>
</ul>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="concepts" class="title-slide slide level2">
<h2>Concepts</h2>
<p>Explain in your own words the following terms:</p>
<ul>
<li>Zero-sum</li>
<li>Terminal test</li>
<li>Minimax value</li>
<li>Selection policy</li>
<li>Playout policy</li>
<li>Monte Carlo tree</li>
<li>Back-propagation</li>
</ul>
</section>

<section id="minimax" class="title-slide slide level2">
<h2>MINIMAX</h2>
<p>Explain if the <code>MINIMAX</code> algorithm is complete and optimal.</p>
<p>Can it be beaten by an opponent playing suboptimally? Why (not)?</p>
<p>Come up with a game tree in which MAX will beat a suboptimal MIN.</p>
<aside class="notes">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Solution notes</strong></p>
</div>
<div class="callout-content">
<p><strong>Completeness</strong></p>
<p>In two-player, discrete, deterministic, turn-taking zero-sum games with perfect information, the <code>MINIMAX</code> algorithm can select optimal moves by a depth-first emuration, the algorithm is also guaranteed to find a solution when there is one.</p>
<p>The algorithm performs a complete depth-first exploration of the game tree. If the maximum depth of the tree is <span class="math inline">\(m\)</span> and there are <span class="math inline">\(b\)</span> legal moves at each point, then the time complexity is <span class="math inline">\(O(b^m)\)</span> for an algorithm that generates all actions at once, or <span class="math inline">\(O(m)\)</span> for an algorithm that generates actions on at a time. The exponential complexity makes <code>MINIMAX</code> impractical for complex games. <code>MINIMAX</code> does, however, serve as a basis for the mathematical analysis for games. By approximating the minimax analysis in various ways, we can derive more practical algorithms.</p>
<p><strong>Suboptimally play</strong></p>
<p>If <em>MIN</em> does not play optimally, then <em>MAX</em> will do at least as well as against an optimal player, possibly better.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="pruning" class="title-slide slide level2">
<h2>Pruning</h2>
<p>Read the note about pruning (and consult <span class="citation" data-cites="RusselNorvig2022AIMA">Russel and Norvig (<a href="#/literature" role="doc-biblioref" onclick="">2022</a>)</span> if necessary).</p>
<p>Explain in your own words, under what conditions a subtree is skipped using Alpha-beta pruning.</p>
<p>Draw an example (game search tree, 3 levels depth).</p>
<aside class="notes">
<div class="callout callout-tip callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Solution notes</strong></p>
</div>
<div class="callout-content">
<div id="fig-pruning" class="quarto-float quarto-figure quarto-figure-left">
<figure class="quarto-float quarto-float-fig">
<div aria-describedby="fig-pruning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img data-src="images/pruning.svg" class="img-fluid">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-pruning-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;11: Example for pruning
</figcaption>
</figure>
</div>
<p><a href="#/fig-pruning" class="quarto-xref">Figure&nbsp;11</a>: There is no point in looking at the other successor states of <em>C</em>, thus it can be skipped.</p>
</div>
</div>
</div>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
</section>
<section id="literature" class="title-slide slide level1 smaller scrollable">
<h1>Literature</h1>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-RusselNorvig2022AIMA" class="csl-entry" role="listitem">
Russel, Stuart, and Peter Norvig. 2022. <em>Artificial Intelligence: A Modern Approach</em>. Harlow: Pearson Education.
</div>
</div>


</section>

<section id="footnotes" class="footnotes footnotes-end-of-document smaller scrollable" role="doc-endnotes"><h3>Footnotes</h3>

<ol>
<li id="fn1"><p>An <strong>atomic representation</strong> is one in which each state is treated as a black box with not internal structure, meaning the state either does or does not match what you’re looking for.</p></li>
<li id="fn2"><p>Problem formulation is specifically about defining the formal components of a search problem (state space, initial state, goal state, actions, etc.) — it’s about translating a real-world problem into the specific mathematical structure needed for search algorithms.</p></li>
<li id="fn3"><p>A state is a situation that an agent can find itself in.</p></li>
<li id="fn4"><p>Expressed by a graph whose nodes are the set of all states, and whose links are actions that transform one state into another</p></li>
<li id="fn5"><p>Can be a single goal state, a small set of alternative goal states, or a property that applies to many states (e.g, no dirt in any location)</p></li>
<li id="fn6"><p>First-in-first-out (FIFO) queue first pops the node that was added to the queue first</p></li>
<li id="fn7"><p>Last-in-first-out queue (LIFO; also known as a stack) pops first the most recently added node</p></li>
<li id="fn8"><p>First pops the node with the minimum costs according to <span class="math inline">\(f(n)\)</span></p></li>
<li id="fn9"><p><a href="https://jonathan-hui.medium.com/monte-carlo-tree-search-mcts-in-alphago-zero-8a403588276a">Reading recommendation</a></p></li>
<li id="fn10"><p>The average utility is guided by the <strong>selection policy</strong>.</p></li>
<li id="fn11"><p>For games with binary outcomes, <strong>average utility</strong> equals <em>win percentage</em></p></li>
<li id="fn12"><p>Playout policies biases the moves toward good ones. For Go and other games, playout policies have been successfully learned from self-play by using neural networks. Sometimes also game-specific heuristics are used (e.g., take the corner square in Othello)</p></li>
</ol>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': false,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: false,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1080,

        height: 640,

        // Factor of the display size that should remain empty around the content
        margin: 0,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script>
    // Copy over background colors to new div
    divs = document.querySelectorAll('[data-background-color]');

    Array.from(divs).map(function (x) {
      const color = x.dataset.backgroundColor;

      var new_div = document.createElement('div');
      new_div.setAttribute("class", "background-color-div");
      new_div.style.backgroundColor = color;
      x.appendChild(new_div);
      x.removeAttribute("data-background-color");
    })

    // Remove background colors from backgrounds div
    Array.from(
      document.querySelectorAll("[data-background-hash]")
    ).map(function (x) {
      x.removeAttribute("data-background-hash");
      x.style.backgroundColor = null;
    })
    </script>

    <script>
    // Copy over background images to new div
    divs = document.querySelectorAll('[data-background-image]');

    Array.from(divs).map(function (x) {
      var new_div = document.createElement('div');
      new_div.setAttribute("class", "background-image-div");

      if (x.dataset.backgroundImage != undefined) {
        new_div.style.backgroundImage = "url(" + x.dataset.backgroundImage + ")";
        x.removeAttribute("data-background-image");
      }
      if (x.dataset.backgroundSize != undefined) {
        new_div.style.backgroundSize = x.dataset.backgroundSize;
        x.removeAttribute("data-background-size");
      }
      if (x.dataset.backgroundPosition != undefined) {
        new_div.style.backgroundPosition = x.dataset.backgroundPosition;
        x.removeAttribute("data-background-position");
      }
      if (x.dataset.backgroundRepeat != undefined) {
        new_div.style.backgroundRepeat = x.dataset.backgroundRepeat;
        x.removeAttribute("data-background-repeat");
      }
      if (x.dataset.backgroundOpacity != undefined) {
        new_div.style.backgroundOpacity = x.dataset.backgroundOpacity;
        x.removeAttribute("data-background-opacity");
      }

      x.appendChild(new_div);
    })
    </script>

    <script>
    // Copy over background vidoes

    // Run once when we load
    var video_div = document.querySelectorAll(".backgrounds video");
    var slide_div = document.querySelectorAll("[data-background-video]");

    for (let i = 0; i < video_div.length; i++) {
      video_div[i].setAttribute("class", "background-video-div");

      slide_div[i].appendChild(video_div[i]);
      slide_div[i].removeAttribute("data-background-video");
    }

    Reveal.getCurrentSlide().querySelectorAll(".background-video-div").forEach(x => x.play());

    // Each time we advance slides, as the background videos aren't loaded
    // unless they are a few slides away
    Reveal.on('slidechanged', event => {
      var video_div = document.querySelectorAll(".backgrounds video");
      var slide_div = document.querySelectorAll("[data-background-video]");

      for (let i = 0; i < video_div.length; i++) {
        video_div[i].setAttribute("class", "background-video-div");

        slide_div[i].appendChild(video_div[i]);
        slide_div[i].removeAttribute("data-background-video");
      }

      Reveal.getCurrentSlide().querySelectorAll(".background-video-div").forEach(x => x.play());
    });
    </script>

    <script>
    // Copy over background vidoes

    // Run once when we load
    var iframe_div = document.querySelectorAll(".backgrounds iframe");
    var slide_div = document.querySelectorAll("[data-background-iframe]");

    for (let i = 0; i < iframe_div.length; i++) {
      iframe_div[i].setAttribute("class", "background-iframe-div");

      slide_div[i].appendChild(iframe_div[i]);
      slide_div[i].removeAttribute("data-background-iframe");
    }

    // Each time we advance slides, as the background videos aren't loaded
    // unless they are a few slides away
    Reveal.on('slidechanged', event => {
      var iframe_div = document.querySelectorAll(".backgrounds iframe");
      var slide_div = document.querySelectorAll("[data-background-iframe]");

      for (let i = 0; i < iframe_div.length; i++) {
        iframe_div[i].setAttribute("class", "background-iframe-div");

        slide_div[i].appendChild(iframe_div[i]);
        slide_div[i].removeAttribute("data-background-iframe");
      }
    });
    </script>

    <script>
    // Clean up slide background styles
    divs = document.querySelectorAll('.slide-background-content');
    Array.from(divs).map(function (x) {
      x.style = null;
    })
    </script>

    <script>

      // Move menu button
      menu_div = document.querySelector(".slide-menu-button");
      document.querySelector(".slides").appendChild(menu_div);
      
      // Move progress bar
      menu_div = document.querySelector(".progress");
      document.querySelector(".slides").appendChild(menu_div);
      
      // Move slide number
      slide_number = document.querySelector(".slide-number");
      document.querySelector(".slides").appendChild(slide_number);
      
      // Move custom footer
      footer = document.querySelector(".footer.custom");
      document.querySelector(".slides").appendChild(footer);

    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp("https:\/\/awe-hnu\.github\.io");
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>